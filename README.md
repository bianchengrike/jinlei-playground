# jinlei-playground

> Program daily, do something fun, and link to some interesting people.

Contents
--------

> forked from [gto76/python-cheatsheet](https://github.com/gto76/python-cheatsheet)

**&nbsp;&nbsp;&nbsp;** **1. Collections:** **&nbsp;** **[`List`](#list)**__,__ **[`Dictionary`](#dictionary)**__,__ **[`Set`](#set)**__,__ **[`Tuple`](#tuple)**__,__ **[`Range`](#range)**__,__ **[`Enumerate`](#enumerate)**__,__ **[`Iterator`](#iterator)**__,__ **[`Generator`](#generator)**__.__  
**&nbsp;&nbsp;&nbsp;** **2. Types:** **&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**  **[`Type`](#type)**__,__ **[`String`](#string)**__,__ **[`Regular_Exp`](#regex)**__,__ **[`Format`](#format)**__,__ **[`Numbers`](#numbers)**__,__ **[`Combinatorics`](#combinatorics)**__,__ **[`Datetime`](#datetime)**__.__  
**&nbsp;&nbsp;&nbsp;** **3. Syntax:** **&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**  **[`Args`](#arguments)**__,__ **[`Inline`](#inline)**__,__ **[`Closure`](#closure)**__,__ **[`Decorator`](#decorator)**__,__ **[`Class`](#class)**__,__ **[`Duck_Type`](#duck-types)**__,__ **[`Enum`](#enum)**__,__ **[`Exception`](#exceptions)**__.__  
**&nbsp;&nbsp;&nbsp;** **4. System:** **&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**  **[`Exit`](#exit)**__,__ **[`Print`](#print)**__,__ **[`Input`](#input)**__,__ **[`Command_Line_Arguments`](#command-line-arguments)**__,__ **[`Open`](#open)**__,__ **[`Path`](#path)**__,__ **[`OS_Commands`](#oscommands)**__.__  
**&nbsp;&nbsp;&nbsp;** **5. Data:** **&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**  **[`JSON`](#json)**__,__ **[`Pickle`](#pickle)**__,__ **[`CSV`](#csv)**__,__ **[`SQLite`](#sqlite)**__,__ **[`Bytes`](#bytes)**__,__ **[`Struct`](#struct)**__,__ **[`Array`](#array)**__,__ **[`Memory_View`](#memory-view)**__,__ **[`Deque`](#deque)**__.__  
**&nbsp;&nbsp;&nbsp;** **6. Advanced:** **&nbsp;&nbsp;&nbsp;**  **[`Threading`](#threading)**__,__ **[`Operator`](#operator)**__,__ **[`Introspection`](#introspection)**__,__ **[`Metaprograming`](#metaprograming)**__,__ **[`Eval`](#eval)**__,__ **[`Coroutines`](#coroutines)**__.__  
**&nbsp;&nbsp;&nbsp;** **7. Libraries:** **&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;**  **[`Progress_Bar`](#progress-bar)**__,__ **[`Plot`](#plot)**__,__ **[`Table`](#table)**__,__ **[`Curses`](#curses)**__,__ **[`Logging`](#logging)**__,__ **[`Scraping`](#scraping)**__,__ **[`Web`](#web)**__,__ **[`Profile`](#profiling)**__,__  
**&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** **[`NumPy`](#numpy)**__,__ **[`Image`](#image)**__,__ **[`Audio`](#audio)**__,__ **[`Games`](#pygame)**__,__ **[`Data`](#pandas)**__,__ **[`Cython`](#cython)**__.__

## Daily coding list

### [day-001](./2022/day-001.py)

### [day-002](./2022/day-002.py)

### [day-003](./2022/day-003.py)

> LBYL vs EAFP: Preventing or Handling Errors in Python

Look before you leap ([LBYL](https://docs.python.org/3/glossary.html#term-LBYL))

Easier to ask forgiveness than permission ([EAFP](https://docs.python.org/3/glossary.html#term-EAFP))

However, the fact remains that Python as a language doesn't have an explicit preference regarding these two coding styles. [Guido van Rossum](https://twitter.com/gvanrossum), the creator of Python, has said as much:

> […] I disagree with the position that EAFP is better than LBYL, or “generally recommended” by Python. ([Source](https://mail.python.org/pipermail/python-dev/2014-March/133118.html))

["As with many other things in life, the answer to the initial questions is: it depends! If the problem at hand suggests that EAFP is the best approach, then go for it. On the other hand, if the best solution implies using LBYL, then use it without thinking that you’re violating a Pythonic rule."](https://realpython.com/python-lbyl-vs-eafp/#the-pythonic-way-to-go-lbyl-or-eafp)

### [day-004](./2022/day-004.py)

> LBYL vs EAFP: Preventing or Handling Errors in Python

Avoiding Race Conditions

### [day-005](./2022/day-005.py)

> Python Type Checking (Guide)

Type hint 101

### [day-006](./2022/day-006.py)

> Pairwise distances or affinity



### [day-007](./2022/day-007.py)

> Common Assertion Formats

- **Comparison assertions** 

- **Membership assertions**

- **Identity assertions**

- **Type check assertions** 

  

### [day-008](./2022/day-008.py)

The goal of assertion should be to uncover programmers’ errors rather than users’ errors. 

### [day-009](./2022/day-009.py)

Handling exceptions with the context manager.

### [day-010](./2022/day-010.py)

[Matrix-vector multiplication](https://mbernste.github.io/posts/matrix_vector_mult/)

Matrix-vector multiplication is an operation between a matrix and a vector that produces a new vector.

[Matrix multiplication](https://mbernste.github.io/posts/matrix_multiplication/)

That is, given two matrices **A** and **B**, each column of the product matrix **AB** is formed by performing [matrix-vector multiplication](https://mbernste.github.io/posts/matrix_vector_mult/) between **A** and each column of **B**. 

[Code demo](https://hadrienj.github.io/posts/Deep-Learning-Book-Series-2.2-Multiplying-Matrices-and-Vectors/)

### [day-011](./2022/day-011.py)

Boolean logic [best-practices](https://realpython.com/tutorials/best-practices/)

### [day-012](./2022/day-012.py)

Using Python’s and Operator in Non-Boolean Contexts

### [day-013](./2022/day-013.py)

Functional Programming

 Functions are **first-class citizens**,  note the distinction between function names and function calls. A function name is same as a classname.

### [day-014](./2022/day-014.py)

perceptron learning algorithm

### [day-015](./2022/day-015.py)

data read for myself 

### [day-016](./2022/day-016.py)

statistical inference

### [day-017](./2022/day-017.py)

the use of except, else(then may be correct) and finally

### [day-018](./2022/day-018.py)

Logarithmic coordinates

### [day-019](./2022/day-019.py)

Flip coins

### [day-020](./2022/day-020.py)

Just play for fun

### [day-021](./2022/day-021.py)

Frequently used database config code

### [day-022](./2022/day-022.py)

Load model file

### [day-023](./2022/day-023.py)

Cluster plot

### [day-024](./2022/day-024.py)

Clustering performance evaluation

### [day-025](./2022/day-025.py)

今天写了一篇[公众号](https://mp.weixin.qq.com/s/v3HKppOa3DXRiwcu6VNThg)，喜欢的朋友可以订阅一下🙏。里面引用了 Python 中处理异常的两种编程风格：LBYL vs EAFP

### [day-026](./2022/day-026.py)

向量的范数

### [day-027](./2022/day-027.py)

对比 Python 加载机器学习模型的两种方式

### [day-028](./2022/day-028.py)

通过类保存流水线处理的中间结果

### [day-029](./2022/day-029.py)

Selecting columns based on dtype

### [day-030](./2022/day-030.py)

有时候，在对 df 操作中，没有生成新的对象，导致程序出现了bug

### [day-031](./2022/day-031.py)

向量点积两种方式的验证

### [day-032](./2022/day-032.py)

对于之前写代码时出现的bug：如果目前还找不到比较优雅的解决方式，那就先用最基（丑）本（陋）的办法解决掉，毕竟，有总比没有好。

### [day-033](./2022/day-033.py)

深入阅读理解 `Python` 官网对于 `iterable` and `iterator`的说明

### [day-034](./2022/day-034.py)

无监督学习一些思考

### [day-035](./2022/day-035.py)

Pickle sklearn pipeline 

### [day-036](./2022/day-036.py)

Argument Tuple Packing vs. Argument Tuple Unpacking

### [day-037](./2022/day-037.py)

聚类评价：聚类前和聚类后
### [day-038](./2022/day-038.py)

职责模式_v1.0

### [day-039](./2022/day-039.py)

职责模式抽象框架

### [day-040](./2022/day-040.py)

条件概率
$$
p(A,B,C) = p(A|B,C) * p(C|B) * p(B) \\

p(B,C) = p(C|B) * p(B) = p(B|C) * p(C)
$$

$$
p(A|B) = p(A|B,C) * p(C|B) + p(A|B, \overline{C}) * p(\overline{C}|B)
$$

$$
\begin{align*}

p(A|B) &= \frac{p(A,B)}{p(B)} \\
       &= \frac{p(A,B,C)}{p(B)}  + \frac{p(A,B, \overline{C})}{p(B)} \\
       &= \frac{p(A,B,C)}{p(C|B) * p(B)} * p(C|B) + \frac{p(A,B, \overline{C})}{p(\overline{C}|B) * p(B)} * p(\overline{C}|B) \\
       &= p(A|B,C) * p(C|B) + p(A|B, \overline{C}) * p(\overline{C}|B)

\end{align*}
$$

### [day-041](./2022/day-041.py)

Interpret ML

 

### [day-042](./2022/day-042.py)

SOM 网络的研究



### [day-043](./2022/day-043.py)

中心极限定理 python 



### [day-044](./2022/day-044.py)

深入浅出神经网络与深度学习-中文版重新阅读与学习

### [day-045](./2022/day-045.py)

SVM 人脸识别

### [day-046](./2022/day-046.py)

基于 minisom 的测试机代码

### [day-047](./2022/day-047.py)

Python 封装数据类

### [day-048](./2022/day-048.py)

Python 封装数据类 v2

### [day-049](./2022/day-049.py)

Python 封装数据类 v3

### [day-050](./2022/day-050.py)

WOE (weight of evidence) 编码

### [day-051](./2022/day-051.py)

多维数组的切片与拼接

### [day-052](./2022/day-052.py)

连续特征离散化，离散特征数值化

### [day-053](./2022/day-053.py)

KBinsDiscretizer

### [day-054](./2022/day-054.py)

特征评估指标：熵、卡方值
$$
\chi^2 = \sum\limits_{i=1}^n \sum\limits_{j=1}^m \frac{(Bin_{ij} - E_{ij})^2}{E_{ij}}
$$

$$
\frac{N \times \big(P(f_i,c_j) \times P(\overline{f_i}, \overline{c_j}) - P(f_i,\overline{c_j}) \times P(\overline{f_i},c_j) \big) }{P(f_i) \times P(\overline{f_i}) \times P(c_i) \times P(\overline{c_i})}
$$



### [day-055](./2022/day-055.py)

条件熵的两种推到方式
$$
\begin{align*}
H(X, Y) - H(Y)
			 &= - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{p(x,y)} + \sum\limits_{y \in Y} p(y) \log{p(y)} \\
			 &= - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{p(x,y)} + \sum\limits_{y \in Y} \big(\sum\limits_{x \in X} p(x,y) \big) \log{p(y)} \\
       &=  - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{p(x,y)} + \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x,y) \log{p(y)} \\
       &= - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{\frac{p(x,y)}{p(y)}} \\
       &= - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{p(y|x)}
\end{align*}
$$




$$
\begin{align*}
H(Y|X) &= \sum\limits_{x \in X} p(x) H(Y|X=x) \\
       &=  \sum\limits_{x \in X} p(x) \times \big( - \sum\limits_{y \in Y} p(y|x) \log{p(y|x)} \big) \\
       &= - \sum\limits_{x \in X} p(x) \sum\limits_{y \in Y} p(y|x) \log{p(y|x)} \\
       &= - \sum\limits_{x \in X} \sum\limits_{y \in Y} p(x, y) \log{p(y|x)}
\end{align*}
$$

### [day-056](./2022/day-056.py)

模型的「特征选择」

特征选择是一个模型特征数量有多到少的过程，再上一环节的特征衍生之后，进一步选择出稳定性好，有利于保证模型准确性的特征。

常用的特征选择方法有：过滤法、包装法、嵌入法。

过滤法是一种一模型无关的特征选择方法。一切可以反应特征预测能力的指标都可以用于变量选择，此外，从数据输入的角度，还有方差、缺失值情况；从相关性角度有，提升特征与模型标签相关性、降低特征间的相关性。

包装法与模型有关，每次的特征选择都要训练一次模型。主要有前向搜索算法、后向搜索算法以及双向搜索算法。

嵌入法也是模型有关的方法，不需要每次都训练模型，而是在模型训练的同时同步完成。

### [day-057](./2022/day-057.py)

关于熵的记进一步说明：

信息熵、条件熵、互信息、联合熵

交叉熵、K-L散度

### [day-058](./2022/day-058.py)

FeatureUnion 的 demo

### [day-059](./2022/day-059.py)

sklearn 标准化的一个误区

### [day-060](./2022/day-060.py)

RFM模型是根据会员最近一次购买时间R（Recency）、购买频率F（Frequency）、购买金额M（Monetary）计算得出RFM得分，通过这3个维度来评估客户的订单活跃价值，常用来做客户分群或价值区分。该模型常用于电子商务（即交易类）企业的会员分析。
RFM模型基于一个固定时间点来做模型分析，因此今天做的RFM得分与7天前做的结果可能不一样，原因是每个客户在不同的时间节点所得到的数据不同。
格式引文：
宋天龙著.Python数据分析与数据化运营（第2版）.机械工业出版社华章分社.2019:509.
得到电子书：https://d.dedao.cn/DQdnq8oBxNBZdr6x

### [day-061](./2022/day-061.py)

数据分箱——Kmeans



### [day-062](./2022/day-062.py)

pd.merge( on="account_id")



### [day-063](./2022/day-063.py)

今天读了一本很棒的书，「人人可懂的数据科学」，其中的机器学习章节很有启发。



### [day-064](./2022/day-064.py)

周末继续刷书「模型思维：简化世界的人工智能模型」

### [day-065](./2022/day-065.py)

PCA 代码实践



### [day-066](./2022/day-066.py)

SVD 分解，[参考](https://zhuanlan.zhihu.com/p/29846048)



### [day-067](./2022/day-067.py)

一元梯度下降



### [day-068](./2022/day-068.py)

多元梯度下降

### [day-069](./2022/day-069.py)

获取聚类最佳数量的一种方式（通过轮廓系数）

### [day-070](./2022/day-070.py)

一种DataFrame 可视化落地的方式

### [day-071](./2022/day-071.py)

研究了一下 [running page](https://github.com/yihong0618/running_page),没成功
